var w,h,loopId,id,canvas,ctx,particles,options={particleColor:"rgba(255,255,255)",lineColor:"rgba(0,181,255)",particleAmount:230,defaultRadius:2.8,variantRadius:10,defaultSpeed:1,variantSpeed:1,linkRadius:270},rgb=options.lineColor.match(/\d+/g);function init(){canvas=document.getElementsByClassName("particle")[0],ctx=canvas.getContext("2d"),resizeReset(),initialiseElements(),startAnimation()}function resizeReset(){w=canvas.width=screen.width,h=canvas.height=3*screen.width}function initialiseElements(){particles=[];for(var t=0;t<options.particleAmount;t++)particles.push(new Particle)}function startAnimation(){loopId=requestAnimationFrame(animationLoop)}function animationLoop(){ctx.clearRect(0,0,w,h),drawScene(),id=requestAnimationFrame(animationLoop)}function drawScene(){drawLine(),drawParticle()}function drawParticle(){for(var t=0;t<particles.length;t++)particles[t].update(),particles[t].draw()}function drawLine(){for(var t=0;t<particles.length;t++)linkPoints(particles[t],particles)}function linkPoints(t,e){for(var i=0;i<e.length;i++){var a=1-checkDistance(t.x,t.y,e[i].x,e[i].y)/options.linkRadius;a>0&&(ctx.lineWidth=.5,ctx.strokeStyle="rgba("+rgb[0]+","+rgb[1]+","+rgb[2]+","+a+")",ctx.beginPath(),ctx.moveTo(t.x,t.y),ctx.lineTo(e[i].x,e[i].y),ctx.closePath(),ctx.stroke())}}function checkDistance(t,e,i,a){return Math.sqrt(Math.pow(i-t,2)+Math.pow(a-e,2))}document.addEventListener("DOMContentLoaded",init),Particle=function(){var t=this;t.x=Math.random()*w,t.y=Math.random()*h,t.color=options.particleColor,t.radius=options.defaultRadius+Math.random()*options.variantRadius,t.speed=options.defaultSpeed+Math.random()*options.variantSpeed,t.directionAngle=Math.floor(360*Math.random()),t.vector={x:Math.cos(t.directionAngle)*t.speed,y:Math.sin(t.directionAngle)*t.speed},t.update=function(){t.border(),t.x+=t.vector.x,t.y+=t.vector.y},t.border=function(){(t.x>=w||t.x<=0)&&(t.vector.x*=-1),(t.y>=h||t.y<=0)&&(t.vector.y*=-1),t.x>w&&(t.x=w),t.y>h&&(t.y=h),t.x<0&&(t.x=0),t.y<0&&(t.y=0)},t.draw=function(){ctx.beginPath(),ctx.arc(t.x,t.y,t.radius,0,2*Math.PI),ctx.closePath(),ctx.fillStyle=t.color,ctx.fill()}};